(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var r,n,c=a(0),o=a.n(c),s=a(10),i=a.n(s),d=(a(66),a(1)),u=a.n(d),l=a(4),m=a(6),p=a(3),f=a(16),v=a.n(f);!function(e){e[e.FETCH_INIT=0]="FETCH_INIT",e[e.FETCH_SUCCESS=1]="FETCH_SUCCESS",e[e.FETCH_FAILURE=2]="FETCH_FAILURE"}(r||(r={})),function(e){e[e.addTodo=0]="addTodo",e[e.removeTodo=1]="removeTodo",e[e.editTodo=2]="editTodo",e[e.addFromDb=3]="addFromDb"}(n||(n={}));var h=function(e,t){switch(t.type){case r.FETCH_INIT:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,isError:!1});case r.FETCH_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1,isError:!1,dataList:t.payload});case r.FETCH_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1,isError:!0});default:throw new Error}},b=a(114),E=function(e){b.a.success({message:"Success",description:e,duration:1.25})},k=function(e){b.a.error({message:"Error",description:e.message,duration:1.25})},O=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).DEV?"localhost:4000/".concat(a):"/".concat(a),t);case 3:return r=e.sent,n=r.data,E(t.task?"Todo successfully added!":"Todo successfully updated!"),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),k(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).DEV?"localhost:4000/".concat(a):"/".concat(a),t);case 3:E(t.task?"Todo successfully added!":"Todo successfully updated!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),k(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),T=function(e){var t=e._id,a=e.task,r=e.completed,n=e.index,s=e.currentIdx,i=e.isAchieved,d=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!m.current){e.next=5;break}return i({type:"editTodo",update:{index:t,edit:!m.current.checked,id:s}}),e.next=5,g({completed:!m.current.checked},"update/".concat(t));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),m=Object(c.useRef)(null);return o.a.createElement("div",{className:"task"},o.a.createElement("input",{ref:m,type:"checkbox",id:"task-".concat(n),defaultChecked:r}),o.a.createElement("label",{onClick:d,htmlFor:"task-".concat(n)},o.a.createElement("span",{className:"custom-checkbox"}),a))},_=function(e){var t=e.editTask,a=e.todos,r=e.currentIdx,n=a.map((function(e,a){return o.a.createElement(T,{_id:e._id,index:a+1,currentIdx:r,completed:e.completed,task:e.task,key:e._id,isAchieved:t})}));return o.a.createElement("div",{className:"tasks"},n)},y=function(e){var t=e.size,a=e.children,r=e.todoName,n=e.setId,c=e.currentId,s=e.deleteList,i=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"todo__list-container"},o.a.createElement("div",{className:"todo__list-header"},o.a.createElement("div",{onClick:i,className:"todo__list-remove"},o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("circle",{cx:"12",cy:"12",r:"12"}),o.a.createElement("polygon",{className:"close-btn",points:"17.8,16.7 16.6,17.9 12,13.3 7.4,17.9 6.2,16.7 10.8,12.1 6.2,7.5 7.4,6.3 12,11 16.6,6.4 17.8,7.6 13.2,12.2 "}))),o.a.createElement("div",{className:"todo__list-info"},o.a.createElement("div",{className:"custom-select"},o.a.createElement("select",{onChange:function(e){n(parseInt(e.target.value))},value:c},r.map((function(e,t){return o.a.createElement("option",{key:t,value:t},e)}))),o.a.createElement("span",{className:"custom-arrow"})),o.a.createElement("p",null,t," tasks remaining"))),o.a.createElement("div",{className:"todo__list-body"},a))},j=a(7),x=function(){return o.a.createElement("button",{className:"confirm__button"},o.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})))},C=function(e){var t=e.setTask,a=e.textRef,r=e.placeHold;return o.a.createElement("input",{ref:a,onChange:function(e){t({task:e.target.value})},placeholder:r,className:"confirm__input"})},w=function(e){var t=e.dispatch,a=e.children,r=e.route,n=e.action,s=e.isAddingList,i=void 0!==s&&s,d=e.updateListName,f=e.currentIdx,v=Object(c.useState)({task:""}),h=Object(m.a)(v,2),b=h[0],E=h[1],k=Object(c.useRef)(null),g=function(){var e=Object(l.a)(u.a.mark((function e(a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.preventDefault(),!b.task){e.next=6;break}return c=Object(p.a)(Object(p.a)({},i&&{name:b.task}),!i&&{task:b.task}),e.next=6,O(c,r).then((function(e){i?(d((function(e){return[].concat(Object(j.a)(e),[b.task])})),t({type:n,todoList:e})):t({type:n,update:{todo:e,id:f}}),E({task:""}),k.current&&(k.current.value="")}));case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("form",{onSubmit:g},o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(x,null),o.a.createElement(C,{textRef:k,setTask:E,placeHold:i?"Add List":"Add Todo"})),a)},S={dark:{colorTitle:"rgb(133, 150, 165,0.2)",color:"rgb(133, 150, 165)",backgroundColor:"#010A16",foregroundHeaderColor:"#0b1622",foregroundBodyColor:"#151f2e",colorArrow:"#0b1622"},light:{colorArrow:"#c9c9c9",color:"#343434",backgroundColor:"#f0f0f0",foregroundBodyColor:"white",foregroundHeaderColor:"#c9c9c9",colorTitle:"rgb(52, 52, 52,0.2)"}},L=Object(c.createContext)(void 0),I=function(e){var t=e.children,a=localStorage.getItem("fsoweb.todo")&&"dark"===localStorage.getItem("fsoweb.todo")?"dark":"light",r=Object(c.useState)(a),n=Object(m.a)(r,2),s=n[0],i=n[1],d=function(e){document.body.style.setProperty("--color",S[e].color),document.body.style.setProperty("--background-color",S[e].backgroundColor),document.body.style.setProperty("--foreground-body-color",S[e].foregroundBodyColor),document.body.style.setProperty("--foreground-header-color",S[e].foregroundHeaderColor),document.body.style.setProperty("--color-title",S[e].colorTitle),document.body.style.setProperty("--color-arrow",S[e].colorArrow),i(e)};return Object(c.useEffect)((function(){d(a)}),[a]),o.a.createElement(L.Provider,{value:{theme:s,setTheme:d}},t)},N=function(){var e=o.a.useContext(L),t=e.theme,a=e.setTheme;return o.a.createElement("label",{id:"switch",className:"switch"},o.a.createElement("input",{type:"checkbox",onChange:function(){a("dark"===t?"light":"dark"),localStorage.setItem("fsoweb.todo","dark"===t?"light":"dark")}}),o.a.createElement("span",{className:"slider round"}))},H=function(e){var t=e.tasks,a=e.removeTasks,r=e.currentIdx,n=function(){var e=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==(n=t.reduce((function(e,t){return t.completed&&e.push(t._id),e}),[])).length){e.next=4;break}return e.abrupt("return",null);case 4:return a({type:"removeTodos",update:{id:r}}),e.next=7,g({taskIds:n},"deleteTasks");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("button",{style:{display:"flex",alignItems:"center"},className:"confirm__button",onClick:n},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20.944 12.979c-.489 4.509-4.306 8.021-8.944 8.021-2.698 0-5.112-1.194-6.763-3.075l1.245-1.633c1.283 1.645 3.276 2.708 5.518 2.708 3.526 0 6.444-2.624 6.923-6.021h-2.923l4-5.25 4 5.25h-3.056zm-15.864-1.979c.487-3.387 3.4-6 6.92-6 2.237 0 4.228 1.059 5.51 2.698l1.244-1.632c-1.65-1.876-4.061-3.066-6.754-3.066-4.632 0-8.443 3.501-8.941 8h-3.059l4 5.25 4-5.25h-2.92z"})))},D=function(e,t){switch(t.type){case"addList":return[].concat(Object(j.a)(e),[t.todoList]);case"addTodoToList":var a=Object(p.a)(Object(p.a)({},e[t.update.id]),{},{tasks:[].concat(Object(j.a)(e[t.update.id].tasks),[t.update.todo])});return e[t.update.id]=a,Object(j.a)(e);case"removeTodos":var r=Object(p.a)(Object(p.a)({},e[t.update.id]),{},{tasks:e[t.update.id].tasks.filter((function(e){return!1===e.completed}))});return e[t.update.id]=r,Object(j.a)(e);case"removeList":return e.filter((function(e){return e.name!==t.name}));case"editTodo":var n=Object(p.a)(Object(p.a)({},e[t.update.id]),{},{tasks:e[t.update.id].tasks.map((function(e){return e._id===t.update.index?Object(p.a)(Object(p.a)({},e),{},{completed:t.update.edit}):e}))});return e[t.update.id]=n,Object(j.a)(e);case"addFromDb":return[].concat(Object(j.a)(e),Object(j.a)(t.data));default:return e}};function F(){return o.a.createElement(I,null,o.a.createElement(A,null))}var A=function(){var e=function(e,t){var a=Object(c.useReducer)(h,{isLoading:!1,isError:!1,dataList:t}),n=Object(m.a)(a,2),o=n[0],s=n[1],i=function(){var t=Object(l.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:r.FETCH_INIT}),t.prev=1,t.next=4,v()(e);case 4:a=t.sent,s({type:r.FETCH_SUCCESS,payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s({type:r.FETCH_FAILURE});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),[o,i]}(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).DEV?"localhost:4000/getLists":"/getLists",[]),t=Object(m.a)(e,1)[0],a=t.dataList,n=t.isLoading,s=t.isError,i=Object(c.useReducer)(D,[]),d=Object(m.a)(i,2),p=d[0],f=d[1],b=Object(c.useState)(0),E=Object(m.a)(b,2),k=E[0],O=E[1],T=Object(c.useState)([]),j=Object(m.a)(T,2),x=j[0],C=j[1],S=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=x[k],O(0),e.next=5,g({},"deleteList/".concat(p[k]._id));case 5:f({type:"removeList",name:t}),C((function(e){return e.filter((function(e){return e!==t}))})),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a&&a.length>0&&(C(a.map((function(e){return e.name}))),f({type:"addFromDb",data:a}))}),[a]),o.a.createElement("div",{className:"todo__container"},o.a.createElement("div",{className:"todo_header"},o.a.createElement(N,null),o.a.createElement("h1",null,"What I need to do")),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"}},o.a.createElement(w,{action:"addList",route:"addList",dispatch:f,updateListName:C,isAddingList:!0})),o.a.createElement("div",{className:"todo__list"},a&&0===a.length&&n&&o.a.createElement("h3",null,"Loading ..."),s&&o.a.createElement("h1",null,"Something Went Wrong :("),a&&p&&p.length>0&&!n&&o.a.createElement(y,{size:p[k].tasks.length,todoName:x,setId:O,currentId:k,deleteList:S},o.a.createElement(_,{todos:p[k].tasks,editTask:f,currentIdx:k}),o.a.createElement(w,{currentIdx:k,dispatch:f,action:"addTodoToList",route:"addToList/".concat(p[k]._id)},o.a.createElement(H,{currentIdx:k,removeTasks:f,tasks:p[k].tasks})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,a){e.exports=a(112)},66:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.1f56fa8e.chunk.js.map