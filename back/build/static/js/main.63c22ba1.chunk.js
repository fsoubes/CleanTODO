(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,r){"use strict";r.r(t);var a,n,c=r(0),o=r.n(c),s=r(8),l=r.n(s),u=(r(66),r(9)),d=r(2),i=r.n(d),m=r(4),f=r(5),p=r(15),h=r.n(p);!function(e){e[e.FETCH_INIT=0]="FETCH_INIT",e[e.FETCH_SUCCESS=1]="FETCH_SUCCESS",e[e.FETCH_FAILURE=2]="FETCH_FAILURE"}(a||(a={})),function(e){e[e.addTodo=0]="addTodo",e[e.removeTodo=1]="removeTodo",e[e.editTodo=2]="editTodo",e[e.addFromDb=3]="addFromDb"}(n||(n={}));var b=function(e,t){switch(t.type){case a.FETCH_INIT:return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0,isError:!1});case a.FETCH_SUCCESS:return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case a.FETCH_FAILURE:return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,isError:!0});default:throw new Error}},v=r(114),E=function(e){v.a.success({message:"Success",description:e,duration:1.25})},k=function(e){v.a.error({message:"Error",description:e.message,duration:1.25})},g=function(){var e=Object(m.a)(i.a.mark((function e(t,r){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("http://localhost:4000/".concat(r),t);case 3:return a=e.sent,n=a.data,E(t.task?"Todo successfully added!":"Todo successfully updated!"),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),k(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("http://localhost:4000/".concat(r),t);case 3:E(t.task?"Todo successfully added!":"Todo successfully updated!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),k(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),T=function(e){var t=e._id,r=e.task,a=e.completed,n=(e.createdAt,e.time,e.updatedAt,e.index),s=e.isAchieved,l=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!u.current){e.next=5;break}return s({type:"editTodo",update:{index:t,edit:!u.current.checked}}),e.next=5,y({completed:!u.current.checked},"update/".concat(t));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=Object(c.useRef)(null);return o.a.createElement("div",{className:"task"},o.a.createElement("input",{ref:u,type:"checkbox",id:"task-".concat(n),defaultChecked:a}),o.a.createElement("label",{onClick:l,htmlFor:"task-".concat(n)},o.a.createElement("span",{className:"custom-checkbox"}),r))},C=function(e){var t=e.editTask,r=e.todos.map((function(e,r){return o.a.createElement(T,{_id:e._id,index:r+1,completed:e.completed,task:e.task,key:e._id,isAchieved:t})}));return o.a.createElement("div",{className:"tasks"},r)},x=function(e){var t=e.title,r=e.size,a=e.children;return o.a.createElement("div",{className:"todo__list-container"},o.a.createElement("div",{className:"todo__list-header"},o.a.createElement("h2",null,t),o.a.createElement("p",null,r," tasks remaining")),o.a.createElement("div",{className:"todo__list-body"},a))},j=function(){return o.a.createElement("button",null,"+")},w=function(e){var t=e.setTask,r=e.textRef;return o.a.createElement("input",{ref:r,onChange:function(e){t({task:e.target.value})},placeholder:"Add Todo"})},O=function(e){var t=e.dispatch,r=e.children,a=Object(c.useState)({task:""}),n=Object(u.a)(a,2),s=n[0],l=n[1],d=Object(c.useRef)(null),f=function(){var e=Object(m.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.preventDefault(),!s.task){e.next=5;break}return e.next=5,g(s,"add").then((function(e){t({type:"addTodo",todo:e}),d.current&&(d.current.value="")}));case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("form",{onSubmit:f},o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(j,null),o.a.createElement(w,{textRef:d,setTask:l})),r)},_={dark:{colorTitle:"rgb(133, 150, 165,0.2)",color:"rgb(133, 150, 165)",backgroundColor:"#010A16",foregroundHeaderColor:"#0b1622",foregroundBodyColor:"#151f2e"},light:{color:"#343434",backgroundColor:"#f0f0f0",foregroundBodyColor:"white",foregroundHeaderColor:"#c9c9c9",colorTitle:"rgb(52, 52, 52,0.2)"}},F=Object(c.createContext)(void 0),S=function(e){var t=e.children,r=localStorage.getItem("fsoweb.todo")&&"dark"===localStorage.getItem("fsoweb.todo")?"dark":"light",a=Object(c.useState)(r),n=Object(u.a)(a,2),s=n[0],l=n[1],d=function(e){document.body.style.setProperty("--color",_[e].color),document.body.style.setProperty("--background-color",_[e].backgroundColor),document.body.style.setProperty("--foreground-body-color",_[e].foregroundBodyColor),document.body.style.setProperty("--foreground-header-color",_[e].foregroundHeaderColor),document.body.style.setProperty("--color-title",_[e].colorTitle),document.body.style.setProperty("--color-title",_[e].colorTitle),l(e)};return Object(c.useEffect)((function(){d(r)}),[r]),o.a.createElement(F.Provider,{value:{theme:s,setTheme:d}},t)},I=function(){var e=o.a.useContext(F),t=e.theme,r=e.setTheme;return o.a.createElement("label",{id:"switch",className:"switch"},o.a.createElement("input",{type:"checkbox",onChange:function(){r("dark"===t?"light":"dark"),localStorage.setItem("fsoweb.todo","dark"===t?"light":"dark")}}),o.a.createElement("span",{className:"slider round"}))},N=function(e){var t=e.tasks,r=e.removeTasks,a=function(){var e=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==(a=t.reduce((function(e,t){return t.completed&&e.push(t._id),e}),[])).length){e.next=4;break}return e.abrupt("return",null);case 4:return r({type:"removeTodos"}),e.next=7,y({taskIds:a},"deleteTasks");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("button",{style:{display:"flex",alignItems:"center"},onClick:a},o.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 20 20"},o.a.createElement("path",{fill:"none",d:"M19.305,9.61c-0.235-0.235-0.615-0.235-0.85,0l-1.339,1.339c0.045-0.311,0.073-0.626,0.073-0.949 c0-3.812-3.09-6.901-6.901-6.901c-2.213,0-4.177,1.045-5.44,2.664l0.897,0.719c1.053-1.356,2.693-2.232,4.543-2.232 c3.176,0,5.751,2.574,5.751,5.751c0,0.342-0.037,0.675-0.095,1l-1.746-1.39c-0.234-0.235-0.614-0.235-0.849,0 c-0.235,0.235-0.235,0.615,0,0.85l2.823,2.25c0.122,0.121,0.282,0.177,0.441,0.172c0.159,0.005,0.32-0.051,0.44-0.172l2.25-2.25 C19.539,10.225,19.539,9.845,19.305,9.61z M10.288,15.752c-3.177,0-5.751-2.575-5.751-5.752c0-0.276,0.025-0.547,0.062-0.813 l1.203,1.203c0.235,0.234,0.615,0.234,0.85,0c0.234-0.235,0.234-0.615,0-0.85l-2.25-2.25C4.281,7.169,4.121,7.114,3.961,7.118 C3.802,7.114,3.642,7.169,3.52,7.291l-2.824,2.25c-0.234,0.235-0.234,0.615,0,0.85c0.235,0.234,0.615,0.234,0.85,0l1.957-1.559 C3.435,9.212,3.386,9.6,3.386,10c0,3.812,3.09,6.901,6.902,6.901c2.083,0,3.946-0.927,5.212-2.387l-0.898-0.719 C13.547,14.992,12.008,15.752,10.288,15.752z"})))},H=r(26),A=function(e,t){switch(t.type){case"addTodo":return[].concat(Object(H.a)(e),[t.todo]);case"removeTodos":return e.filter((function(e){return!1===e.completed}));case"editTodo":return e.map((function(e,r){return e._id===t.update.index?Object(f.a)(Object(f.a)({},e),{},{completed:t.update.edit}):e}));case"addFromDb":return[].concat(Object(H.a)(e),Object(H.a)(t.data));default:return e}};function L(){return o.a.createElement(S,null,o.a.createElement(R,null))}var R=function(){var e=function(e,t){var r=Object(c.useReducer)(b,{isLoading:!1,isError:!1,data:t}),n=Object(u.a)(r,2),o=n[0],s=n[1],l=function(){var t=Object(m.a)(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:a.FETCH_INIT}),t.prev=1,t.next=4,h()(e);case 4:r=t.sent,s({type:a.FETCH_SUCCESS,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s({type:a.FETCH_FAILURE});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){l()}),[]),[o,l]}("/getTodo",[]),t=Object(u.a)(e,1)[0],r=t.data,n=t.isLoading,s=t.isError,l=Object(c.useReducer)(A,[]),d=Object(u.a)(l,2),f=d[0],p=d[1];return Object(c.useEffect)((function(){r&&r.length>0&&p({type:"addFromDb",data:r})}),[r]),o.a.createElement("div",{className:"todo__container"},o.a.createElement("div",{className:"todo_header"},o.a.createElement(I,null),o.a.createElement("h1",null,"What I need to do")),o.a.createElement("div",{className:"todo__list"},r&&0===r.length&&n&&o.a.createElement("h3",null,"Loading ..."),s&&o.a.createElement("h1",null,"Something Went Wrong :("),r&&r.length>0&&o.a.createElement(x,{size:f.length,title:"Grocery"},o.a.createElement(C,{data:r,todos:f,editTask:p}),o.a.createElement(O,{dispatch:p},o.a.createElement(N,{removeTasks:p,tasks:f})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,r){e.exports=r(112)},66:function(e,t,r){}},[[61,1,2]]]);
//# sourceMappingURL=main.63c22ba1.chunk.js.map